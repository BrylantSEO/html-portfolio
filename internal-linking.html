<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikacja do Linkowania Wewnƒôtrznego</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h2::before {
            content: '‚≠ê';
            font-size: 1.2em;
        }

        .section.pages h2::before {
            content: 'üìÑ';
        }

        .input-group {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        input[type="text"],
        input[type="url"],
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
            font-family: inherit;
        }

        input[type="text"]:focus,
        input[type="url"]:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .hint {
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        button:active {
            transform: translateY(0);
        }

        .btn-add {
            width: 100%;
            margin-top: 10px;
        }

        .list {
            margin-top: 20px;
        }

        .list-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: start;
            gap: 10px;
        }

        .list-item-content {
            flex: 1;
        }

        .list-item-url {
            color: #667eea;
            font-weight: 600;
            word-break: break-all;
            margin-bottom: 5px;
        }

        .list-item-anchors {
            color: #666;
            font-size: 0.9em;
        }

        .list-item-anchors strong {
            color: #333;
        }

        .btn-remove {
            background: #dc3545;
            padding: 8px 15px;
            font-size: 0.9em;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
        }

        .btn-remove:hover {
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.5);
        }

        .actions {
            grid-column: 1 / -1;
            display: flex;
            gap: 20px;
            justify-content: center;
            padding: 20px;
        }

        .btn-analyze {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            padding: 15px 50px;
            font-size: 1.2em;
            box-shadow: 0 6px 20px rgba(17, 153, 142, 0.4);
        }

        .btn-clear {
            background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
            padding: 15px 50px;
            font-size: 1.2em;
            box-shadow: 0 6px 20px rgba(238, 9, 121, 0.4);
        }

        .results {
            grid-column: 1 / -1;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .results.show {
            display: block;
        }

        .results h2 {
            color: #11998e;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .result-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .result-item h3 {
            color: #667eea;
            margin-bottom: 15px;
            word-break: break-all;
        }

        .result-section {
            margin-bottom: 15px;
        }

        .result-section h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .link-suggestion {
            background: #f0f8ff;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 8px;
            border-left: 4px solid #667eea;
        }

        .link-suggestion strong {
            color: #667eea;
        }

        .link-url {
            color: #11998e;
            font-size: 0.9em;
            word-break: break-all;
        }

        .empty-state {
            text-align: center;
            color: #999;
            padding: 20px;
            font-style: italic;
        }

        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 2em;
            }

            .actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîó Aplikacja do Linkowania Wewnƒôtrznego</h1>
            <p>ZarzƒÖdzaj linkowaniem wewnƒôtrznym i optymalizuj SEO swojej witryny</p>
        </header>

        <div class="main-content">
            <!-- Essentials Section -->
            <div class="section essentials">
                <h2>Strony Essentials</h2>
                <p style="color: #666; margin-bottom: 20px;">Strony, do kt√≥rych wszystkie inne strony majƒÖ linkowaƒá</p>

                <div class="input-group">
                    <label for="essential-url">URL Strony</label>
                    <input type="url" id="essential-url" placeholder="https://example.com/strona">

                    <label for="essential-anchors" style="margin-top: 15px;">Anchor Texty</label>
                    <textarea id="essential-anchors" placeholder='np. "seo dla sklepu", "pozycjonowanie sklepu"'></textarea>
                    <div class="hint">Ka≈ºdy anchor text w cudzys≈Çowie, oddzielony przecinkami</div>

                    <button class="btn-add" onclick="addEssential()">+ Dodaj Essential</button>
                </div>

                <div class="list" id="essentials-list">
                    <div class="empty-state">Brak dodanych stron essentials</div>
                </div>
            </div>

            <!-- Pages to Analyze Section -->
            <div class="section pages">
                <h2>Strony do Analizy</h2>
                <p style="color: #666; margin-bottom: 20px;">Strony, kt√≥re bƒôdƒÖ przeanalizowane pod kƒÖtem linkowania</p>

                <div class="input-group">
                    <label for="page-url">URL Strony</label>
                    <input type="url" id="page-url" placeholder="https://example.com/blog/artykul">

                    <button class="btn-add" onclick="addPage()">+ Dodaj Stronƒô</button>
                </div>

                <div class="list" id="pages-list">
                    <div class="empty-state">Brak dodanych stron do analizy</div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="actions">
                <button class="btn-analyze" onclick="analyzeLinks()">üîç Analizuj i Generuj Sugestie</button>
                <button class="btn-clear" onclick="clearAll()">üóëÔ∏è Wyczy≈õƒá Wszystko</button>
            </div>

            <!-- Results Section -->
            <div class="results" id="results">
                <h2>üìä Sugestie Linkowania</h2>
                <div id="results-content"></div>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let essentials = [];
        let pages = [];

        // Add Essential Page
        function addEssential() {
            const urlInput = document.getElementById('essential-url');
            const anchorsInput = document.getElementById('essential-anchors');

            const url = urlInput.value.trim();
            const anchorsText = anchorsInput.value.trim();

            if (!url) {
                alert('Proszƒô podaƒá URL strony');
                return;
            }

            if (!anchorsText) {
                alert('Proszƒô podaƒá anchor texty');
                return;
            }

            // Parse anchor texts
            const anchors = parseAnchors(anchorsText);

            if (anchors.length === 0) {
                alert('Nie znaleziono poprawnych anchor text√≥w w cudzys≈Çowach');
                return;
            }

            essentials.push({ url, anchors });

            // Clear inputs
            urlInput.value = '';
            anchorsInput.value = '';

            renderEssentials();
        }

        // Parse anchor texts from input
        function parseAnchors(text) {
            const regex = /"([^"]*)"/g;
            const matches = [];
            let match;

            while ((match = regex.exec(text)) !== null) {
                if (match[1].trim()) {
                    matches.push(match[1].trim());
                }
            }

            return matches;
        }

        // Add Page to Analyze
        function addPage() {
            const urlInput = document.getElementById('page-url');
            const url = urlInput.value.trim();

            if (!url) {
                alert('Proszƒô podaƒá URL strony');
                return;
            }

            pages.push({ url });

            // Clear input
            urlInput.value = '';

            renderPages();
        }

        // Remove Essential
        function removeEssential(index) {
            essentials.splice(index, 1);
            renderEssentials();
        }

        // Remove Page
        function removePage(index) {
            pages.splice(index, 1);
            renderPages();
        }

        // Render Essentials List
        function renderEssentials() {
            const list = document.getElementById('essentials-list');

            if (essentials.length === 0) {
                list.innerHTML = '<div class="empty-state">Brak dodanych stron essentials</div>';
                return;
            }

            list.innerHTML = essentials.map((item, index) => `
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-url">${item.url}</div>
                        <div class="list-item-anchors">
                            <strong>Anchors:</strong> ${item.anchors.map(a => `"${a}"`).join(', ')}
                        </div>
                    </div>
                    <button class="btn-remove" onclick="removeEssential(${index})">Usu≈Ñ</button>
                </div>
            `).join('');
        }

        // Render Pages List
        function renderPages() {
            const list = document.getElementById('pages-list');

            if (pages.length === 0) {
                list.innerHTML = '<div class="empty-state">Brak dodanych stron do analizy</div>';
                return;
            }

            list.innerHTML = pages.map((item, index) => `
                <div class="list-item">
                    <div class="list-item-content">
                        <div class="list-item-url">${item.url}</div>
                    </div>
                    <button class="btn-remove" onclick="removePage(${index})">Usu≈Ñ</button>
                </div>
            `).join('');
        }

        // Analyze and Generate Link Suggestions
        function analyzeLinks() {
            if (essentials.length === 0) {
                alert('Proszƒô dodaƒá przynajmniej jednƒÖ stronƒô essential');
                return;
            }

            if (pages.length === 0) {
                alert('Proszƒô dodaƒá przynajmniej jednƒÖ stronƒô do analizy');
                return;
            }

            const results = [];

            // For each page to analyze
            pages.forEach(page => {
                const suggestions = {
                    url: page.url,
                    essentialLinks: [],
                    relatedLinks: []
                };

                // Add all essential links
                essentials.forEach(essential => {
                    suggestions.essentialLinks.push({
                        url: essential.url,
                        anchors: essential.anchors
                    });
                });

                // Find related pages (thematic similarity)
                pages.forEach(otherPage => {
                    if (otherPage.url !== page.url) {
                        const similarity = calculateSimilarity(page.url, otherPage.url);
                        if (similarity > 0.3) { // Threshold for similarity
                            suggestions.relatedLinks.push({
                                url: otherPage.url,
                                similarity: similarity,
                                suggestedAnchor: extractKeywords(otherPage.url)
                            });
                        }
                    }
                });

                results.push(suggestions);
            });

            renderResults(results);
        }

        // Calculate thematic similarity between two URLs
        function calculateSimilarity(url1, url2) {
            // Extract keywords from URLs
            const keywords1 = extractKeywords(url1).toLowerCase().split(' ');
            const keywords2 = extractKeywords(url2).toLowerCase().split(' ');

            // Calculate Jaccard similarity
            const set1 = new Set(keywords1);
            const set2 = new Set(keywords2);

            const intersection = new Set([...set1].filter(x => set2.has(x)));
            const union = new Set([...set1, ...set2]);

            return intersection.size / union.size;
        }

        // Extract keywords from URL
        function extractKeywords(url) {
            // Get the last part of the URL path
            const urlPath = url.split('/').filter(part => part.length > 0).pop() || '';

            // Remove common extensions and clean up
            const cleaned = urlPath
                .replace(/\.(html|php|asp|aspx)$/i, '')
                .replace(/[-_]/g, ' ')
                .replace(/\+/g, ' ')
                .trim();

            return cleaned || 'artyku≈Ç powiƒÖzany';
        }

        // Render Results
        function renderResults(results) {
            const resultsSection = document.getElementById('results');
            const resultsContent = document.getElementById('results-content');

            if (results.length === 0) {
                resultsContent.innerHTML = '<div class="empty-state">Brak wynik√≥w do wy≈õwietlenia</div>';
                resultsSection.classList.add('show');
                return;
            }

            resultsContent.innerHTML = results.map(result => `
                <div class="result-item">
                    <h3>${result.url}</h3>

                    <div class="result-section">
                        <h4>üåü Linki do stron Essential:</h4>
                        ${result.essentialLinks.map(link => `
                            <div class="link-suggestion">
                                <strong>Sugerowane anchor texty:</strong> ${link.anchors.map(a => `"${a}"`).join(', ')}<br>
                                <span class="link-url">‚Üí ${link.url}</span>
                            </div>
                        `).join('')}
                    </div>

                    ${result.relatedLinks.length > 0 ? `
                        <div class="result-section">
                            <h4>üîó Linki do powiƒÖzanych stron:</h4>
                            ${result.relatedLinks.map(link => `
                                <div class="link-suggestion">
                                    <strong>Sugerowany anchor text:</strong> "${link.suggestedAnchor}" (podobie≈Ñstwo: ${(link.similarity * 100).toFixed(0)}%)<br>
                                    <span class="link-url">‚Üí ${link.url}</span>
                                </div>
                            `).join('')}
                        </div>
                    ` : '<div class="result-section"><p style="color: #999; font-style: italic;">Brak powiƒÖzanych stron do linkowania</p></div>'}
                </div>
            `).join('');

            resultsSection.classList.add('show');

            // Scroll to results
            resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Clear All Data
        function clearAll() {
            if (!confirm('Czy na pewno chcesz wyczy≈õciƒá wszystkie dane?')) {
                return;
            }

            essentials = [];
            pages = [];

            renderEssentials();
            renderPages();

            document.getElementById('results').classList.remove('show');
        }

        // Initialize
        renderEssentials();
        renderPages();
    </script>
</body>
</html>
